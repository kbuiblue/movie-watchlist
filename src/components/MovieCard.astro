---
interface Props {
    src: string;
    href: string;
    title: string;
	imdbRating: string;
	runtime: string;
	genre: string;
    plot: string;
}

const { href, src, title, imdbRating, runtime, genre, plot } = Astro.props;
---

<li class="movie-card">
    <a href={href}> <img class="movie-poster" src={src} /></a>
    <div class="movie-info">
        <a href={href}>
            <div class="top-info">
                <h2>
                    {title}
                </h2>
                <img class="star-icon" src="/star-icon.svg" />
                <h2>{imdbRating}</h2>
            </div>
			<div class="mid-info">
				<p>{runtime}</p>
				<p>{genre}</p>
				<div class="watchlist-add">
					<img src="/add-icon.svg">
					<p>Add to Watchlist</p>
				</div>
			</div>
			<p class="plot">
				{plot}
			</p>
		</a>
    </div>
</li>

<style>
    .movie-card {
        list-style: none;
        display: grid;
        grid-template-columns: 13vw 1fr;
        padding: 2em 3em;
        background-color: #23262d;
        background-image: none;
        background-size: 400%;
        border-radius: 7px;
        background-position: 100%;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
        cursor: pointer;
    }
    /* .movie-card > a {
        width: 100%;

        padding: calc(1.5rem - 1px);
        border-radius: 8px;
        background-color: #23262d;
        opacity: 0.8;
    } */

    .movie-poster {
        max-width: 9vw;
    }

	.movie-info {
		display: flex;
		min-height: 100%;
		flex-direction: column;
		justify-content: center;
	}

    .movie-info,
    .movie-info a {
        color: white;
        text-decoration: none;
        line-height: 1.4;
    }

	.movie-info > div {
		margin-bottom: 1em;
	}

    .top-info {
        display: flex;
        width: fit-content;
        justify-content: space-around;
    }

    .top-info .star-icon {
        margin: 0 0.75em;
    }

	.mid-info {
		display: flex;
		font-size: medium;
		justify-content: flex-start;
		gap: 2em;
	}

	.watchlist-add {
		display: flex;
		justify-content: center;
		align-items: center;
		margin: 0;
		gap: 0.5em;
		z-index: 2;
	}

	.watchlist-add:active {
		transform: scale(0.9);
	}

	.plot {
		margin: 0;
	}

    h2 {
        margin: 0;
        font-size: 1.25rem;
    }

	a {
		z-index: 0;
	}

    .movie-card:is(:hover, :focus-within) {
        box-shadow: inset 0 0 0 1px rgba(var(--accent-light), 50%);
    }
</style>
